@using CUSrinagar.Models
@using CaptchaMvc.HtmlHelpers
@using CUSrinagar.Extensions

@model CertificateCoursePersonalInfo

@{
    ViewBag.Title = $"Certificate Courses Registration Form {DateTime.UtcNow.Year} - ";
    string TotalFee = "3100".EncryptCookieAndURLSafe();
    short Batch = 0;

    if (Batch == 0)
    {
        Response.Redirect("/CertificateCourses/Instructions", true);
    }
}
<div id="Jspleasewait" style="display:none;position:fixed;background-color:rgba(0, 0, 0, 0.20);left:0;top:0;z-index:200;width:100%;height:100%">
    <p style="font-size:30px;font-weight:bold;color:white;margin-top:20%;margin-left:41%">
        Please wait...
    </p>
</div>

<div class="page-wrapper pt-text-style">
    <div id="response">
        @if (TempData["response"] != null)
        {
            @Html.Raw(TempData["response"])
        }
    </div>
    <div class="page-content">

        @using (Html.BeginForm("Apply", "CertificateCourses", FormMethod.Post, new { @enctype = "multipart/form-data", @id = "StdCrtRegistration" }))
        {
            @Html.AntiForgeryToken()
            @Html.Hidden("ToTalFees", TotalFee)
            @Html.Hidden(nameof(Model.Batch), Batch)

            @*------------------------board reg &course Section-----------------------------------*@
            <div class="row page-row" style="background-color:white;padding-bottom: 10px">
                <div class="content-wrapper">
                    <h4 style="margin-left:10px;">
                        <i class="fa fa-user" aria-hidden="true"></i>
                        @Html.LabelFor(model => model.BoardRegnNo, new { @class = "small-70" })
                        <span style="margin-left:15%">
                            Fields marked with <strong style="color:red;">*</strong> are mandatory.
                        </span>

                        <a class="pull-right" href="@Url.Action("Instructions","CertificateCourses",new { area=string.Empty })">Go Back to Instructions&nbsp;&nbsp;&nbsp;</a>
                    </h4> <hr />
                    <div class="col-lg-4"></div>
                    <label class="col-sm-4 lbl bigger-120 no-padding-right">
                        Enter @Html.LabelFor(model => model.BoardRegnNo, new { @class = "small-70" })
                        <span class="required">
                            *
                            @Html.ValidationMessageFor(model => model.BoardRegnNo)
                        </span><br />
                        @Html.TextBoxFor(model => model.BoardRegnNo, new { @class = "form-control ", @maxlength = "150", @onkeypress = "return forAdmissionRollNo(event);" })
                    </label>
                </div>
            </div>
            @*------------------------------------End board reg Section-----------------------------------*@

            @*------------------------------------Personal Details Section-----------------------------------*@
            <div class="row page-row" style="background-color:white;padding-bottom: 10px">
                <div class="content-wrapper">
                    <h4 style="margin-left:10px;">
                        <i class="fa fa-user" aria-hidden="true"></i>
                        <strong>Personal Information</strong>
                    </h4> <hr />

                    <label class="col-sm-4 lbl bigger-120 no-padding-right">
                        @Html.LabelFor(model => model.FullName, new { @class = "small-70" })
                        <span class="required">
                            *
                            @Html.ValidationMessageFor(model => model.FullName)
                        </span><br />
                        @Html.TextBoxFor(model => model.FullName, new { @class = "form-control", @maxlength = "150", @onkeypress = "return forNameOnly(event);" })
                    </label>

                    <label class="col-sm-4 lbl bigger-120 no-padding-right">
                        @Html.LabelFor(model => model.Parentage, new { @class = "small-70" })
                        <span class="required">
                            *
                            @Html.ValidationMessageFor(model => model.Parentage)
                        </span><br />
                        @Html.TextBoxFor(model => model.Parentage, new { @class = "form-control", @maxlength = "150", @onkeypress = "return forNameOnly(event);" })
                    </label>


                    <label class="col-sm-4 lbl bigger-120 no-padding-right">
                        @Html.LabelFor(model => model.Gender)
                        <span class="required">
                            *
                            @Html.ValidationMessageFor(model => model.Gender)
                        </span><br />
                        @Html.DropDownListFor(model => model.Gender, (IEnumerable<SelectListItem>)ViewBag.GenderDDL, string.Empty, new { @class = "form-control" })
                    </label>

                    <label class="col-sm-4 lbl bigger-120 no-padding-right">
                        @Html.LabelFor(model => model.EnteredDOB)
                        <span class="required">
                            *
                            @Html.ValidationMessageFor(model => model.EnteredDOB)
                        </span><br />
                        @Html.TextBoxFor(model => model.EnteredDOB, new { @maxlength = "10", @class = "form-control dateDDMMYYY", @placeholder = "dd-mm-yyyy" })

                    </label>
                    <label class="col-sm-4 lbl bigger-120 no-padding-right">
                        @Html.LabelFor(model => model.MobileNo, new { @class = "small-70" })
                        <span class="required">
                            *
                            @Html.ValidationMessageFor(model => model.MobileNo)
                        </span><br />
                        @Html.TextBoxFor(model => model.MobileNo, new { @class = "form-control", @maxlength = "10", @onkeypress = "return numbersOnly(event);", @title = "Provide a valid Mobile No. to enable University to send alerts, important communications etc" })
                    </label>

                    <label class="col-sm-4 lbl bigger-120 no-padding-right">
                        @Html.LabelFor(model => model.Email, new { @class = "small-70" })
                        <span class="required">
                            *
                            @Html.ValidationMessageFor(model => model.Email)
                        </span><br />
                        @Html.TextBoxFor(model => model.Email, new { @class = "form-control", @maxlength = "150", @title = "Provide a valid Email to enable University to send alerts, important communications etc" })
                    </label>
                </div>
            </div>
            @*------------------------------------End Personal Details Section-----------------------------------*@


            @*------------------------------------Address Information Section-----------------------------------*@
            <div class="row page-row" style="background-color:white;padding-bottom: 10px">
                <div class="content-wrapper">
                    <h4 style="margin-left:10px;"><i class="fa fa-map-marker" aria-hidden="true"></i> <strong>Address Information</strong> </h4><hr />

                    <label class="col-sm-12 lbl bigger-120 no-padding-right">
                        @Html.LabelFor(model => model.Address, new { @class = "small-70" })
                        <span class="required">
                            *
                            @Html.ValidationMessageFor(model => model.Address)
                        </span><br />
                        @Html.TextBoxFor(model => model.Address, new { @class = "form-control", @maxlength = "400", @onkeypress = "return forAddressOnly(event);" })
                    </label>
                </div>
            </div>
            @*------------------------------------End Address Information Section-----------------------------------*@


            @*------------------------------------Academic Qulafications Section-----------------------------------*@
            <div class="row page-row" style="background-color:white;padding-bottom: 10px">
                <div class="content-wrapper">
                    <h4 style="margin-left:10px;">
                        <i class="fa fa-database" aria-hidden="true"></i>
                        <strong>Academic Qualifications </strong>
                        <strong class="quadrat pull-right">Total Fee Rs: @TotalFee.DecryptCookieAndURLSafe()</strong>
                    </h4>
                    <hr />
                    <strong>
                        <label class="col-sm-1 no-padding-right" style="width:132px">
                            @Html.LabelFor(model => model.AppliedFor)
                        </label>
                    </strong>
                    <strong>
                        <label class="col-sm-3 lbl bigger-120 no-padding-right">
                            @Html.DropDownListFor(model => model.AppliedFor, (IEnumerable<SelectListItem>)ViewBag.CertificateCourses, string.Empty, new { @class = "form-control" })
                        </label>
                    </strong>
                    <strong>
                        <label class="col-sm-3 lbl bigger-120 no-padding-right">
                            <span class="required">
                                *
                                @Html.ValidationMessageFor(model => model.AppliedFor)
                            </span>
                        </label>
                    </strong>
                    <br />
                    <table class="table-acedemic">
                        <thead>
                            <tr>
                                <th class=table-acedemic-th>Exam Name<span class="required"> *</span></th>
                                <th class=table-acedemic-th>Stream<span class="required"> *</span></th>
                                <th class=table-acedemic-th>Year<span class="required"> *</span></th>
                                <th class=table-acedemic-th>Max Marks<span class="required"> *</span></th>
                                <th class=table-acedemic-th>Marks Obt<span class="required"> *</span></th>
                                <th class=table-acedemic-th>Board/University Name<span class="required"> *</span></th>
                                <th class=table-acedemic-th>Action<span class="required"> *</span></th>
                            </tr>
                        </thead>
                        <tbody class="table-acedemic-body JsTableBody">
                            @{int index = 0;}
                            @if (Model != null && Model.PrevQualifications != null)
                            {
                                for (index = 0; index < Model.PrevQualifications.Count; index++)
                                {
                                    <tr id="item_@index">
                                        <th style="padding-left:20px">
                                            <span class="required">
                                                @Html.ValidationMessageFor(model => model.PrevQualifications[index].ExamName)
                                            </span>
                                            @if (Model.PrevQualifications[index].ReadOnly)
                                            {
                                                @Html.DisplayFor(model => model.PrevQualifications[index].ExamName, new { @class = "form-control width100", @maxlength = "2", @onkeypress = "return forAddressOnly(event);", @title = "Exam Name", @readonly = "readonly", @style = "border:1;border-color: darkgray;" })
                                                @Html.HiddenFor(model => model.PrevQualifications[index].ExamName)
                                                @Html.HiddenFor(model => model.PrevQualifications[index].ReadOnly, new { value = "True" })
                                            }
                                            else
                                            {
                                                @Html.TextBoxFor(model => model.PrevQualifications[index].ExamName, new { @maxlength = "140", @onkeypress = "return forAddressOnly(event);", @title = "Exam Name", @class = "form-control width100" })
                                            }
                                        </th>
                                        <td>
                                            <span class="required">
                                                @Html.ValidationMessageFor(model => model.PrevQualifications[index].Stream)
                                            </span>
                                            @Html.TextBoxFor(model => model.PrevQualifications[index].Stream, new { @class = "form-control width100", @maxlength = "150", @onkeypress = "return forAddressOnly(event);", @title = "e.g GENERAL, ARTS, MEDICAL", @placeholder = "e.g ARTS" })
                                        </td>
                                        <td>
                                            <span class="required">
                                                @Html.ValidationMessageFor(model => model.PrevQualifications[index].YearOfPassing)
                                            </span>
                                            @Html.TextBoxFor(model => model.PrevQualifications[index].YearOfPassing, new { @class = "form-control width100", @maxlength = "4", @onkeypress = "return numbersOnly(event);", @title = "Year Of Passing" })
                                        </td>
                                        <td>
                                            <span class="required">
                                                @Html.ValidationMessageFor(model => model.PrevQualifications[index].MaxMarks)
                                            </span>
                                            @Html.TextBoxFor(model => model.PrevQualifications[index].MaxMarks, new { @class = "form-control width100 jsvalmm", @maxlength = "4", @onkeypress = "return numbersOnly(event);", @title = "Maximum Marks" })
                                        </td>

                                        <td>
                                            <span class="required">
                                                @Html.ValidationMessageFor(model => model.PrevQualifications[index].MarksObt)
                                            </span>
                                            @Html.TextBoxFor(model => model.PrevQualifications[index].MarksObt, new { @class = "form-control width100 jsvalminm", @maxlength = "7", @onkeypress = "return floatNumbersOnly(event);", @title = "Marks Obtained" })
                                        </td>
                                        <td>
                                            <span class="required">
                                                @Html.ValidationMessageFor(model => model.PrevQualifications[index].ExamBody)
                                            </span>
                                            @Html.DropDownListFor(model => model.PrevQualifications[index].ExamBody, (IEnumerable<SelectListItem>)ViewBag.Exambodies, string.Empty, new { @class = "form-control width100" })
                                        </td>
                                        <th class="text-center">
                                            @if (!Model.PrevQualifications[index].ReadOnly)
                                            {
                                                <a href="javascript:void(0);" class="JSRemovePQItem" data-ids="item_@index"><i class="fa fa-trash"></i> Remove</a>
                                            }
                                        </th>
                                    </tr>
                                }
                            }
                            @Html.Hidden("AddItemIndex", index)
                        </tbody>
                    </table>
                    <div class="row col-sm-12 text-right" style="padding-top: 5px">
                        <button type="button" id="JSAddPQItem" class="btn btn-danger">
                            <i class="fa fa-plus"></i> Add Item
                        </button>
                    </div>
                </div>
            </div>
            @*-----------------------------end Academic Qulafications section-----------------------------------*@

            @*---------------------------- select photo ------------------------ *@
            <div class="row page-row" style="background-color:white;padding-bottom: 10px">
                <div class="content-wrapper">
                    <div class="col-sm-12 lbl bigger-120 no-padding-right">
                        <h4 style="margin-left:8px;">
                            <i class="fa fa-camera" aria-hidden="true"></i>
                            <strong>Upload your recent Photograph <span style="float:right;"> Only jpg, png, jpeg, bmp & 20-70KB image file is allowed.</span></strong>
                        </h4><hr />
                        <div class="text-center">
                            <img id="img-preview" src="" style="width:130px;align-content:center;" />
                            <br />
                            <span class="required">
                                *
                                @Html.ValidationMessageFor(model => model.PhotographPath)
                                <span class="erMsg"></span>
                            </span>
                            @Html.LabelFor(model => model.PhotographPath, new { @class = "small-70" })
                            @Html.TextBoxFor(model => model.PhotographPath, new { @style = "padding:2px 0;margin:0 auto;", @type = "file", @id = "theFile", @onchange = "return valFile('#theFile',20,70,'KB','jpg,jpeg,bmp,png','.erMsg');", title = "Only jpg, png, jpeg, bmp & 20-70KB image file is allowed." })
                        </div>
                    </div>
                </div>
            </div>
            @*----------------------------End photo Section------------------------ *@

            @*---------------------------- Declaration Section  ------------------------ *@
            <div class="row page-row" style="background-color:white;padding-bottom: 10px">
                <div class="content-wrapper">
                    <div class="col-sm-12 lbl bigger-120 no-padding-right">
                        <h4 style="margin-left:10px;"><i class="fa fa-book" aria-hidden="true"></i> <strong>Declaration</strong></h4><hr />
                        <ol class="justify">
                            <li style="padding:0.3%">I hereby declare that all the statements made in this application are true, complete and correct to the best of my knowledge. In the event of any information being found false or incorrect or any ineligibility being detected my candidature is liable to be cancelled and legal action may be initiated against me.</li>
                            <li style="padding:0.3%">I fulfil all conditions of eligibility educational qualification etc. prescribed for the admission.</li>
                            <li style="padding:0.3%">I have gone through the conditions mentioned in the Cluster University Srinagar Advertisement notification and shall abide by them.</li>
                            <li style="padding:0.3%">I have noted that if my application is found incomplete / defective, the same is liable to be rejected summarily and no correspondence will be entertained in this regard. </li>
                            <li style="padding:0.3%">I have read and agree with the Cluster University Srinagar Advertisement notification including instructions, enclosures, check list and other relevant information.</li>
                        </ol>
                        <div class="clear bold text-center">
                            @Html.Captcha("", "Enter Verification Code", 4, " Required", true)
                            <br />
                        </div>
                    </div>
                    <br />
                    <p style="text-align:center;">
                        <i class="fa fa-check-square-o"></i> @Html.Label("agree", "By clicking on Final Submit & Make Payment button you have read and accepted the terms & conditions.")
                        <input type="hidden" id="prevf" value="" />
                        <br />
                        <span id="hideButtons6">
                            <input style="font-weight:bold;font-size:20px;" type="submit" id="jsfinalSubmit" value="Final Submit & Make Payment" class="btn btn-success" />
                        </span>
                    </p>

                </div>
            </div>
            @*----------------------------End Declaration Section  ------------------------ *@
        }

    </div>
</div>
<style>
    .width100 {
        width: 100% !important;
    }
</style>
@section PageSpecificJS{
    @Scripts.Render("~/bundles/Libraries/jqueryval")
    <script src="@Url.Content("~/Content/ThemePublic/JSCertificateCourses/CertificateCourses.js")"></script>
}
