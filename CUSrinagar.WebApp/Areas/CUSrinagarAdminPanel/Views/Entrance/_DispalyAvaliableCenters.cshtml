
@using CUSrinagar.Extensions
@model CUSrinagar.Models.AssignEntranceCenters

<div class="col-lg-12" style="overflow:auto;max-height:700px">
    <table class="table-bordered table">
        <thead>
            <tr>
                <th></th>
                <th>Center Number / Code</th>
                <th>Assignment Order</th>
                <th>No Of StudentsToBeAssigned PerCenter / District</th>
                <th>Has Already Some Students</th>
            </tr>
        </thead>
        <tbody class="DelOnChange">
            @if ((Model?.AssignEntranceCentersAs.IsNotNullOrEmpty() ?? false))
            {
                if (Model.TotalEntranceFormsAvailable > 0)
                {
                    @Html.HiddenFor(m => m.TotalEntranceFormsAvailable)

                    <tr>
                        <td class="text-center" colspan="5">
                            <strong style="font-size:16px;">
                                Total Exam Forms :
                                @Html.DisplayFor(m => m.TotalEntranceFormsAvailable)
                            </strong>
                        </td>
                    </tr>
                    string _HasAlreadySomeStudents = string.Empty;
                    string CollegeName = "";

                    for (int i = 0; i < Model.AssignEntranceCentersAs.Count; i++)
                    {
                        if (CollegeName != Model.AssignEntranceCentersAs[i].CollegeFullname)
                        {
                            CollegeName = Model.AssignEntranceCentersAs[i].CollegeFullname;
                            <tr><th colspan="5" class="center no-padding no-margins "><button class="form-control btn btn-danger"><strong style="color:white">@CollegeName</strong></button></th></tr>
                        }
                        <tr>
                            @Html.HiddenFor(m => m.AssignEntranceCentersAs[i].Center_ID)
                            <td class="text-center">
                                @Html.CheckBoxFor(m => m.AssignEntranceCentersAs[i].HasToBeAssigned, new { @class = "HasToBeAssigned ace checkbox checkbox-inline" })

                            </td>
                            <td class="text-center">
                                @Html.DisplayFor(m => m.AssignEntranceCentersAs[i].CenterCode)
                            </td>
                            <td class="text-center">
                                <span class="required">
                                    <span class="errMsg"></span>
                                    @Html.ValidationMessageFor(m => m.AssignEntranceCentersAs[i].AssignmentOrder)
                                </span>
                                @Html.TextBoxFor(m => m.AssignEntranceCentersAs[i].AssignmentOrder, new { @class = "AssignCentersAs", @type = "Number", min = "1", max = "999", style = "width:150px;" })
                            </td>
                            <td class="text-center">
                                <span class="required">
                                    <span class="errMsg2"></span>
                                    @Html.ValidationMessageFor(m => m.AssignEntranceCentersAs[i].NoOfStudentsToBeAssignedPerCenter)
                                </span>
                                @Html.TextBoxFor(m => m.AssignEntranceCentersAs[i].NoOfStudentsToBeAssignedPerCenter, new { @class = "noOfStudentsToBeAssignedPerCenter", @type = "Number", min = "1", max = "9999", @title = "NoOfStudentsToBeAssignedPerCenter", style = "width:150px;" })
                                @Html.DropDownListFor(m => m.AssignEntranceCentersAs[i].Districts, Model.DistrictsDDL, new { @class = "form-control multiselect", @multiple = "", @style = "display:none;width:300px;" ,@title="choose District(s)" })
                            </td>
                            <td class="text-center">
                                @{_HasAlreadySomeStudents = Model.AssignEntranceCentersAs[i].HasAlreadySomeStudents ? "Yes" : "No";}
                                @_HasAlreadySomeStudents
                            </td>
                        </tr>
                    }

                }
                else
                {
                    <tr>
                        <th colspan="5" class="text-center quadraText">Either no Admissions forms  are avaliable or Entrance already done.</th>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <th colspan="4" class="text-center">No centers are available</th>
                </tr>
            }
        </tbody>
    </table>
</div>