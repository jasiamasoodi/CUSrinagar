
@{
    ViewBag.Title = "Feedback/Grievance";
}

@section CUSSitemap{
    <ul class="breadcrumb">
        <li>
            <i class="ace-icon fa fa-home home-icon"></i>
            <a href="@Url.Action("Index","Dashboard",new { area= "CUSrinagarAdminPanel" })">Home</a>
        </li>
        <li>
            <a href="#" class="active">Feedback/Grievance</a>
        </li>
    </ul><!-- /.breadcrumb -->
}
<div class="row">
    @Html.Hidden("IsAdmin",(bool?)ViewBag.IsAdmin)
    <div class="col-md-12 jsTableContent">
        <div class="panel panel-primary js-pager-table" data-otherparam1="@CUSrinagar.Enums.PrintProgramme.UG">
            <div class="panel-heading">
                <h3 class="panel-title">
                    Feedback/Grievance
                    <small>
                        <i class="ace-icon fa fa-angle-double-right"></i>
                        List of Queries
                    </small>
                    <span class="clickable filter-btn pull-right" data-toggle="tooltip" title="Toggle table filter" data-container="body">
                        <a href="#"><i class="fa fa-search" aria-hidden="true"></i>&nbsp;Search</a>
                    </span>

                </h3>
            </div>
            <div class="panel-body">
                <div class="search-box">
                    <div class="form-inline">
                        <div class="form-group">
                            <label>Category</label><br />
                            <div class="jsDDLContainer">
                                @Html.DropDownList("Category", new SelectList(ViewBag.GrievanceCategory, "Value", "Text"),
                                       "All", new
                                       {
                                           @class = "form-control jsfilterelement",
                                           required = "required",
                                           @data_column = "Category",
                                           @data_operator = "EqualTo"
                                       })
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Status</label><br />
                            <div class="jsDDLContainer">
                                @Html.DropDownList("Category", new SelectList(ViewBag.GrievanceStatus, "Value", "Text"),
                                       "All", new
                                       {
                                           @class = "form-control jsfilterelement",
                                           required = "required",
                                           @data_column = "Status",
                                           @data_operator = "EqualTo"
                                       })
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Feedback/Grievance Id</label><br />
                            <div class="jsDDLContainer">
                                <input type="text" class="form-control jsfilterelement" placeholder="your grievance id" data-column="GrievanceID" data-operator="EqualTo" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Query</label><br />
                            <div class="jsDDLContainer">
                                <input type="text" class="form-control jsfilterelement" placeholder="Enter query or part of query" data-column="Message" data-operator="Contains" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="invisible">for styling purpose</label><br />
                            <button type="button" class="btn btn-sm btn-primary fa-search-btn js-search"><i class="fa fa-search"></i>&nbsp;Search</button>
                        </div>
                        <div class="form-group">
                            <label class="invisible">for styling purpose</label><br />
                            <div class="btn-group">
                                <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">
                                    Action
                                    <span class="ace-icon fa fa-caret-down icon-on-right"></span>
                                </button>
                                <ul class="dropdown-menu dropdown-default dropdown-info">
                                    <li>
                                        <a href="javascript:void(0)" class="jsShowBatchUpdateDialog">
                                            Forward
                                        </a>
                                    </li>
                                    @*<li class="divider"></li>
                                    <li>
                                        <a href="javascript:void(0)" class="js-exportToCSV" data-url="@Url.Action("GrievanceList","Grievance",new { area="CUSrinagarAdminPanel"})">
                                            Download Excel(CSV)
                                        </a>
                                    </li>
                                    <li class="divider"></li>*@
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="js-table-content" data-url=@Url.Action("GrievanceList", "Grievance", new { area = "CUSrinagarAdminPanel" }) data-DefaultOrderByColumn="Date">
            </div>
            @{Html.RenderPartial("_JSPagerTableFooter");}
        </div>
    </div>
</div>

@*MODAL DIALOG START*@
<!-- Modal -->
<div class="modal" id="BatchUpdateGrievanceDailog" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered wd-650">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Batch Update</h4>
            </div>
            <div class="modal-body padding-0-10">
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <td class="wd-35">
                                <input class="ace checkbox checkbox-inline jsBatchChkBox" type="checkbox"><span class="lbl"></span>
                            </td>
                            <td class="wd-200">
                                User
                            </td>
                            <td  id="jstdUsers"> 
                                <div class="wd-400 jsDDLContainer">
                                    <select class="chosen-select form-control" id="cusUsers">
                                        <option value="">     --    Select    --    </option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary jsBatchUpdate">Update</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
@*MODAL DIALOG END*@

@section PageSpecificJS{
    <script>
        $(document).ready(function () {
            $("#GrievanceListItem").addClass("active");
            //$("#GrievanceListItem").addClass("active open");
        });
        loadpagertableWithDefaultParams();
    </script>
    <script src="@Url.Content("~/Content/ThemeAdmin/Content/Scripts/Pages/admin-grievance.js")"></script>

}



