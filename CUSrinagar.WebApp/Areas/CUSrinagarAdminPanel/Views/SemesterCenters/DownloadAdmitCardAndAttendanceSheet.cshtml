
@model CUSrinagar.Models.AttendanceSheetForm
@using CUSrinagar.Extensions
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Student Admit Card &amp; Attendance sheet - CUSrinagar</title>
    <style type="text/css">
        .btn-theme {
            background: #011c27;
            border: 1px solid #84aac9;
            color: #fff;
        }

            .btn-theme:hover {
                background: #545677;
                border: 1px solid #84aac9;
                color: #fff;
            }

        .QRCode {
            width: 95px;
            position: absolute;
            margin-top: -60px;
            margin-left: 0
        }

        .ASQRCode {
            width: 95px;
            position: absolute;
            margin-left: 500px;
        }

        @@media print {
            .IsPrintbody {
                display: none;
            }

            .ASQRCode {
                width: 95px;
                position: absolute;
                margin-left: 500px;
            }

            .QRCode {
                width: 95px;
                position: absolute;
                margin-top: -60px;
                margin-left: 0
            }

            .noneOnPrint {
                display: none;
            }

            .parentdiv {
                margin: 0 auto;
                width: 909px;
                padding: 0px;
            }
        }

        .parentdiv {
            margin: 0 auto;
            width: 909px;
            padding: 10px;
        }

        .dontbreakInside {
            page-break-inside: avoid;
        }

        .breakpagehere {
            page-break-after: always !important;
        }

        .blankspace {
            height: 350px !important;
        }


        .breakpagehere {
            height: 10px;
            background-color: grey !important;
        }

        table tr td {
            padding: 10px 10px;
        }

        table tr td, table tr th {
            max-width: 150px;
            word-wrap: hyphenate !important;
        }

        .ctable tr td {
            padding: 19px;
        }

        table tr td, table tr th {
            max-width: 150px;
            word-wrap: break-word !important;
        }

        table, table tr, table tr td, table tr th {
            border: 1px solid black;
            border-collapse: collapse;
        }

        table {
            width: 100%;
        }

        div {
            background-color: #fff;
        }

        .center {
            text-align: center !important;
        }

        .pull-right {
            float: right !important;
        }

        .pull-left {
            float: left !important;
        }
    </style>
</head>
<body style="background-color:grey" class="IsPrintbody">
    <div id="Jspleasewait" style="position:fixed;background-color:rgba(0, 0, 0, 0.20);left:0;top:0;z-index:200;width:100%;height:100%">
        <p style="font-size:30px;font-weight:bold;color:red;margin-top:20%;margin-left:41%">
            Please wait...
        </p>
    </div>
    @if (Model != null)
    {
        string base64 = "";
        string QRImgSrc = "";
        string CUSRegistrationNo = "";

        CUSRegistrationNo = Model.CUSRegistrationNo + "".ToUpper();

        base64 = Convert.ToBase64String(Model.QRCode);
        QRImgSrc = String.Format($"data:image/png" + ";base64,{0}", base64);
        Model.Photograph = string.IsNullOrWhiteSpace(Model.Photograph) ? "~/Content/ThemePublic/Libraries/images/team/administration/small/no-image.png" : Model.Photograph;

        //---------------------- Admit card ---------------------
        <div style="margin:0 auto;width:909px;padding:10px 10px">
            <div class="center">
                <img src="/Content/ThemePublic/PrintImages/CUSLogo.png" style="width:90px;height:68px;" />
                <img src="/Content/ThemePublic/Libraries/images/cus-logo1.svg" width="500" height="50" />
                <br />
                <strong style="font-size:20px;">
                    Semester-@Model.Semester Exam [ADMIT CARD @Model.year]
                    <img src="@QRImgSrc" class="QRCode" style="margin-left:70px;" />
                </strong>
            </div>
            <table>
                <tr>
                    <td colspan="3">
                        <strong style="float:left !important;">Exam Form No. : @Model.FormNumber</strong>
                    </td>
                    <td colspan="2">
                        <strong style="float:right !important;font-size:17px;">Exam Roll No. : @Model.ExamRollNumber</strong>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">CUS Registration No.: @CUSRegistrationNo</td>
                    <td rowspan="5" class="center">
                        <img class="img-responsive" src="@Url.Content(Model.Photograph)" width="150" />
                    </td>
                </tr>
                <tr>
                    <td style="width:100px">Name</td>
                    <td>@Model.FullName</td>
                    <td>Gender</td>
                    <td>@Model.Gender</td>
                </tr>
                <tr>
                    <td>Father's Name</td>
                    <td colspan="3">@Model.FathersName</td>

                </tr>
                <tr>
                    <td>Mobile</td>
                    <td>@Model.PhoneNo</td>
                    <td>Batch</td>
                    <td>@Model.Batch</td>
                </tr>
                @*<tr>
                        <td>Center</td>
                        <td colspan="3"><strong>@Model.AcceptCollegeID</strong></td>
                    </tr>*@
                @if (!Model.StudentSubjects.ToLower().Contains("-(reappear)"))
                {
                    <tr>
                        <td>Course</td>
                        <th>@Model.CourseFullName</th>
                        <td>Combination Code</td>
                        <th>@Model.CombinationCode</th>
                    </tr>
                }
                else
                {
                    <tr>
                        <td>Course</td>
                        <th colspan="3">@Model.CourseFullName</th>
                    </tr>
                }
                <tr>
                    <td>Subjects</td>
                    <td colspan="4"><strong>@Html.Raw(Model.StudentSubjects.Replace(" ,, ", "<br/>"))</strong></td>
                </tr>
            </table>
            <h3>Examination Center @*&amp; Time*@</h3>
            <table>
                <tr>
                    <th>Center Name &amp; Address</th>
                    <th>Center Number</th>
                    @*<th>Time</th>*@
                </tr>
                <tr>
                    <td><strong>@Model.SemesterExamCenterDetail.CollegeFullName</strong> &nbsp; @Model.SemesterExamCenterDetail.Address</td>
                    <td class="center"><strong>@Model.SemesterExamCenterDetail.CenterCode</strong></td>
                    @*<td class="center">@AdmitCardDetails.Item5.Time</td>*@
                </tr>
            </table>
            <div class="dontbreakInside" style="width:100% !important">
                <p style="width:100%;text-align:justify">
                    <fieldset style="padding:0;">
                        <legend style="font-weight:bold;font-size:16px;color:red;text-align:center"> Important </legend>
                        <ol>
                            <li>In case of any variation in particulars, the candidate shall contact the I.T Section.</li>
                            <li>
                                Those candidates who have not appeared/passed Internal/Continous assesment are not eligible to appear in Exam
                                and their forms will be cancelled
                            </li>
                        </ol>
                    </fieldset>
                    <br /><br />
                    <span class="pull-left ">Printed on : @DateTime.UtcNow.ToLongDateString()</span>

                    <strong class="pull-right">
                        Signature of the Applicant
                    </strong>
                </p>
            </div>
            <br />
        </div>

        <p class="breakpagehere"></p>

        //---------------------- Attendance Sheet ----------------------------
        var collegeLogoPath = Url.Content("~/Content/ThemePublic/Libraries/images/banners/" + Model.SemesterExamCenterDetail.CollegeCode + ".jpg");
        <div class="parentdiv">
            <div class="center">
                <div>
                    <img src="@QRImgSrc" class="ASQRCode" />
                    <img class="img-responsive" src="@collegeLogoPath" style="width:90px;height:68px;float:left;" />
                    <img src="/Content/ThemePublic/Libraries/images/cus-logo1.svg" width="500" height="50" />
                </div>
                <h2 style="margin:0">@Model.SemesterExamCenterDetail.CollegeFullName</h2>
                <h3 style="margin:2px;margin-left: 94px">Attendance Sheet- Semester @Model.Semester -Batch @Model.Batch</h3>
            </div>
            <table>
                <tr>
                    <td style="padding:5px;font-weight:bold;" width="17%">Exam Form No.</td>
                    <td style="padding:5px;font-weight:bold;" width="25%">@Model.FormNumber</td>
                    <td style="padding:5px;" width="15%">Exam RollNo.</td>
                    <td style="padding:5px;" width="25%">@Model.ExamRollNumber</td>
                    <td style="padding:5px;" width="20%"></td>
                </tr>
                <tr>
                    <td colspan="1">Name</td>
                    <td colspan="3">@Model.FullName.ToUpper()</td>
                    <td rowspan="7" colspan="1" class="center">
                        <img class="img-responsive" src="@Url.Content(Model.Photograph)" width="130" height="155" />
                    </td>
                </tr>
                <tr>
                    <td colspan="1" style="padding:5px;font-weight:bold;" width="19%">CUS Registration No.</td>
                    <td colspan="3">@CUSRegistrationNo</td>
                </tr>
                <tr>
                    <td colspan="1" style="padding:5px;font-weight:bold;" width="19%">Center Name</td>
                    <td colspan="3"><strong>@Model.SemesterExamCenterDetail.CollegeFullName</strong> &nbsp; @Model.SemesterExamCenterDetail.Address</td>
                </tr>
                <tr>
                    <td colspan="1" style="padding:5px;font-weight:bold;" width="19%">Center Number</td>
                    <td colspan="3"><strong>@Model.SemesterExamCenterDetail.CenterCode</strong></td>
                </tr>
                <tr>
                    <td colspan="1">Father's Name</td>
                    <td colspan="3">@Model.FathersName.ToUpper()</td>
                </tr>
                <tr>
                    <td colspan="1">Course</td>
                    <td colspan="3" style="word-break: break-all">@Model.CourseFullName</td>
                </tr>
                <tr>
                    <td colspan="1">Subjects allotted</td>
                    <td colspan="3" style="word-break: break-all;font-weight:bold;font-size:15PX;">@Html.Raw(Model.StudentSubjects.Replace(" ,, ", "<br/>"))</td>
                </tr>

            </table>
            <br /><br />
            <table class="ctable">
                <tr>
                    <th style="width:30px;">S.No.</th>
                    <th style="width:200px;">Name of the Subject</th>
                    <th style="width:100px;" placeholder="dd-mm-yy">Date(dd-mm-yyyy) </th>
                    <th style="width:100px;">Answer Script Number</th>
                    <th style="width:100px;">Signature of student</th>
                </tr>
                @for (int i = 1; i <= 8; i++)
                {
                    <tr>
                        <td>&nbsp;@i</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                }
            </table>

            <p style="height:200px;"></p>
            <label>Signature of Assistant Superintendent</label>
            <label style="margin-left:30em;">Signature of Superintendent</label>
        </div>
        <p class="breakpagehere"></p>

    }
    else
    {
        <div class="parentdiv" style="font-size:18px;">
            No Record Found , reasons could be:
            <ol>
                <li>Exam FormNo not correct</li>
                <li>Exam form not submitted</li>
                <li>Exam form fee not submitted</li>
                <li>Exam RollNo not alloted yet.</li>
                <li>Center not alloted yet</li>
                <li>Internal Awards not submitted</li>
            </ol>
        </div>
    }

    <div class="noneOnPrint" style="margin-left:-14px;height:40px;background-color:lightslategrey;width:100%;position:fixed;bottom:0;z-index:100;text-align:center;padding-top:10px">
        <a style="height: 32px;color:white" href="https://www.wikihow.com/Save-a-Web-Page-as-a-PDF-in-Google-Chrome" target="_blank"><b>See How to Save as PDF</b></a>&nbsp;&nbsp;&nbsp;
        <button style="height: 32px;" href="#" class="btn btn-theme" onclick="window.print();"><b>Download or Print</b></button>
    </div>

    <script src="@Url.Content("~/Content/ThemeAdmin/Content/Scripts/Libraries/jquery-2.1.4.min.js")"></script>
    <script src="@Url.Content("~/Content/ThemePublic/Libraries/disableBack.js")"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#Jspleasewait").css("display", "none");
            $("body").removeClass("IsPrintbody");
        });
    </script>
</body>
</html>