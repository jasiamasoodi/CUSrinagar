
@using CUSrinagar.Models
@model List<InternalQuestions>
@{
    ViewBag.Title = "CUS :: Internal Exam";
    int sno = 1;
    int ssno = 1;

}
@section CUSSitemap{
    <ul class="breadcrumb">
        <li>
            <i class="ace-icon fa fa-home home-icon"></i>
            <a href="@Url.Action(" Index","Dashboard",new { area="CUSrinagarAdminPanel" })">Home</a>
        </li>
        <li>
            <a href="#" class="active">Internal Exam</a>
        </li>
    </ul><!-- /.breadcrumb -->
}

@section PageSpecificStyle{
    <style>
        p {
            font-family: auto !important;
            font-size: 20px !important;
        }

        form {
            font-family: auto !important;
        }

        .question {
            font-size: 18px;
        }
    </style>
}

<div class="row">
    <div class="col-sm-12">
        <div class="col-sm-12">
            <br />
            <p>
                Internal Exam
            </p>
            <hr />
        </div>
        <div class="col-sm-12">
            <h4 class="center  no-padding"><i class='menu-icon fa fa-pencil-square-o'></i>Please answer below questions before proceeding to examination form.</h4>
            <hr />
        </div>


        <div class="col-sm-12">
            <div class="form-group ">
                @using (Html.BeginForm("SaveExam", "InternalStudent", FormMethod.Post, new { @name = "Internalform", @id = "validation-form", @class = "form-horizontal jsMainForm", @role = "form" }))
                {
                    <label class="red"> @Html.ValidationMessage("AllQuestions", "", new { @class = "label label-sm label-danger arrowed-in-right arrowed" })</label>
                    foreach (InternalQuestions question in Model ?? new List<InternalQuestions>())
                    {
                        @Html.HiddenFor(model => model[sno - 1].Question)
                        @*@Html.HiddenFor(model => model[sno - 1].)*@
                        @Html.HiddenFor(model => model[sno - 1].Question_Id)
                        ssno = 1;
                        <div class="col-sm-12 region">
                            <label class="question">@sno)&nbsp;&nbsp; @question.Question</label>
                            <fieldset id="group_@sno">
                                <div class="col-sm-12">
                                    @foreach (InternalQuestionOptions option in question.InternalQuestionOptions ?? new List<InternalQuestionOptions>())
                                    {
                                        <div class="col-sm-2">
                                            @Html.HiddenFor(model => model[sno - 1].InternalQuestionOptions[ssno - 1].OptionName)
                                            @Html.HiddenFor(model => model[sno - 1].InternalQuestionOptions[ssno - 1].Option_Id)
                                            @Html.HiddenFor(model => model[sno - 1].InternalQuestionOptions[ssno - 1].Question_Id, question.Question_Id)

                                            @*<span>@option.OptionLabel</span> @Html.RadioButtonFor(model => model[sno - 1].IsCheckedOption, option.Option_Id)*@

                                            <div class="radio">
                                                @ssno.
                                                <label>
                                                    @* <input type="radio" class = "ace"  name="[@(sno - 1)].InternalQuestionOptions[0].IsCorrect" >*@
                                                    @Html.RadioButtonFor(model => model[sno - 1].IsCheckedOption, option.Option_Id, new { @class = "ace" })
                                                    <span class="lbl">@option.OptionName</span>
                                                    @*@Html.HiddenFor(model => model[sno - 1].InternalQuestionOptions[ssno - 1].IsCorrect)*@
                                                </label>
                                            </div>
                                        </div>

                                        ssno++;

                                    }

                                </div>
                            </fieldset>
                            @{sno++;}
                        </div>
                        <div class="col-sm-12">        <hr class="margin-top-5 margin-bottom-15" /></div>

                    }
                    <div class="col-sm-12 align-center">
                        <button type="submit" class="btn btn-sm btn-primary save-button " id="sub">
                            <i class="ace-icon fa fa-check"></i>
                            Submit
                        </button>
                    </div>
                }
            </div>

        </div>




    </div>
</div>
@*<script src="~/Scripts/Pages/InternalExam.js"></script>*@
<script>
    var TimeLimit = 50;
    window.onload = function () {
        window.setTimeout(function () { document.Internalform.submit(); }, (parseInt(TimeLimit)*1000));
    };
    $("*").unbind("click"); // Removes all click handlers added by javascript from every element
    $("[onclick]").removeAttr("onclick"); // Finds all elements with an 'onclick' attribute, and removes that attribute
</script>